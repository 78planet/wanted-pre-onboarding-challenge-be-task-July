# 웹 브라우저에 네이버 를 검색하고 화면에 네이버 화면이 출력이 될 때 까지 내부적으로 어떤 동작들이 수행이 되는지 설명

1. 먼저 브라우저에서 www.naver.com 을 입력 받으면 브라우저는 URL을 파싱한다. 프로토콜, 도메인, 포트를 찾아낸다. 

2. https 요청만 받는 서버를 판별하기 위해 브라우저의 HSTS(HTTP Strict Transport Security) 목록을 확인합니다. 이 목록에 있는 URL은 무조건 https 요청만 받는 서버이므로 http 로 요청을 한다해도 https로 변경해서 요청합니다. 만약 HSTS 목록에 없지만 https 요청만 받는 서버에 http 요청을 보냈다면 서버는 HTTP 응답 헤더에 Strict Transport Security 필드를 포함하여 응답을 합니다. 이 헤더를 확인한 브라우저는 해당 URL을 HSTS 목록에 저장합니다. 

3. URL을 통신가능한 IP 주소로 변환합니다. 브라우저는 hosts 파일과 브라우저 캐시에서 해당 URL이 존재하는지 확인합니다. 존재하지 않는다면 도메인 주소를 IP 주소로 변환해주는 DNS로 요청하여 IP 주소로 변환합니다. 

4. URL 의 IP 주소를 받았으니 해당 서버로 요청을 보냅니다. 이 IP 주소의 서버까지 어떻게 도달할까요? 네트워크 장비인 라우터의 라우팅을 통해 이루어집니다. 라우터에서는 라우팅 테이블을 통해 해당 요청이 어떤 경로를 통해 가야할지 경로를 정해줍니다. 이를 통해 해당 IP 주소를 찾아갈 수 있습니다. 

5. 실질적인 통신을 하기 위해 ARP를 통해 IP 주소를 MAC 주소로 변환합니다. 해당 네트워크에서 ARP를 브로드캐스팅하고, 해당 IP 를 가지고 있는 노드는 자신의 MAC 주소를 응답합니다. 

6. 대상 서버와 TCP 소켓 연결합니다. 

7. 연결이 확정되었으니 서버에게 해당 페이지를 달라고 요청합니다. 서버는 이 요청에 대한 응답을 생성하여 브라우저에게 전달합니다. 

8.  브라우저에서 응답을 해석합니다.
